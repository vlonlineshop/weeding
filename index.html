<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan Adit & Bunga</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Open+Sans&display=swap" rel="stylesheet" />
  <style>
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      background: #ffedf5;
      color: #b03570;
      font-family: 'Open Sans', sans-serif;
      padding-bottom: 50px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    nav#sitemap {
      background: #ff9cc9;
      width: 100%;
      max-width: 400px;
      border-radius: 30px;
      margin: 15px 0;
      padding: 10px 0;
      box-shadow: 0 0 20px 5px #ff9cc9cc;
      display: flex;
      justify-content: space-around;
      font-weight: 700;
      font-size: 1.1rem;
      user-select: none;
    }
    nav#sitemap a {
      color: #fff;
      text-decoration: none;
      cursor: pointer;
      transition: color 0.3s ease;
      padding: 8px 12px;
      border-radius: 20px;
    }
    nav#sitemap a:hover {
      color: #ffedf5;
      text-shadow: 0 0 10px #fff;
      background: #ff5ca1;
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      color: #ff5ca1;
      font-size: 3rem;
      margin: 20px 0 10px;
      text-align: center;
    }
    .container {
      margin: 20px;
      padding: 20px;
      background: #ffffffcc;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 30px 10px #ff9cc9;
      border-radius: 30px;
      text-align: center;
      max-width: 350px;
    }
    .photo-names img {
      max-width: 250px;
      border-radius: 50%;
      box-shadow: 0 0 30px 10px #ff9cc9;
    }
    .names {
      margin-top: 15px;
      font-family: 'Dancing Script', cursive;
      font-size: 2.6rem;
      color: #ff5ca1;
    }
    .countdown {
      margin-bottom: 20px;
      font-size: 1.5rem;
      background: #ffedf5;
      border-radius: 20px;
      box-shadow: 0 0 30px 10px #ff9cc9;
      font-weight: 700;
    }
    .audio audio { display: none; }
    .location, .journey, .tips, #rsvp { margin-bottom: 30px; }
    .tips ul, #rsvp ul { text-align: left; }
    #rsvp form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    #rsvp input, #rsvp select, #rsvp button {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 1rem;
    }
    button#printBtn, button#whatsappBtn {
      margin: 5px;
      padding: 10px;
      border: none;
      border-radius: 10px;
      background: #ff5ca1;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    @media print {
      nav#sitemap, .countdown, .audio, .tips, .location, .journey, #rsvp, #whatsappBtn, #printBtn {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <nav id="sitemap">
    <a href="#home">üè† Home</a>
    <a href="#journey">üíñ Journey</a>
    <a href="#lokasi">üìç Lokasi</a>
    <a href="#tips">üí° Tips</a>
    <a href="#rsvp">üìã RSVP</a>
  </nav>

  <h1>Undangan Pernikahan</h1>

  <div class="container" id="home">
    <div class="photo-names">
      <img src="https://via.placeholder.com/250x250.png?text=Foto+Pengantin" alt="Foto Pengantin" />
      <div class="names">Adit &amp; Bunga</div>
    </div>
    <p id="namaTamu">Tamu Undangan</p>
    <p><span id="weddingDateText"></span></p>
    <div class="countdown"><span id="countdown"></span></div>
    <div class="audio">
      <audio id="audio" autoplay loop muted src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
    </div>
    <button id="printBtn" onclick="window.print()">üñ®Ô∏è Cetak Undangan</button>
    <button id="whatsappBtn" onclick="generateWhatsAppLink()">üì© Kirim via WhatsApp</button>
  </div>

  <div class="container journey" id="journey">
    <h2>üíñ Journey</h2>
    <ul id="journeyList"></ul>
  </div>

  <div class="container location" id="lokasi">
    <p>üìç Lokasi: Jalan ABC, Setelah Alfamart, Belok Kiri</p>
  </div>

  <div class="tips container" id="tips">
    <h2>üí° Tips Amplop Online</h2>
    <ul>
      <li>Transfer ke: <strong>1234 5678 9012 3456 (Bank ABC)</strong></li>
      <li>Atas nama: <strong>Adit &amp; Bunga</strong></li>
      <li>Sertakan nama Anda di berita transfer</li>
    </ul>
  </div>

  <div class="container" id="rsvp">
    <h2>üìã Konfirmasi Kehadiran (RSVP)</h2>
    <form onsubmit="submitRSVP(event)">
      <input type="text" id="rsvpName" placeholder="Nama Anda" required />
      <select id="rsvpStatus" required>
        <option value="">-- Pilih Kehadiran --</option>
        <option value="Hadir">Hadir</option>
        <option value="Tidak Hadir">Tidak Hadir</option>
      </select>
      <button type="submit">Kirim</button>
      <p id="rsvpMsg"></p>
    </form>
  </div>

  <script>
    const namaTamu = decodeURIComponent(new URLSearchParams(location.search).get('namaTamu') || 'Tamu');
    const tanggal = '2025-12-12';

    document.getElementById('namaTamu').innerHTML = `Tamu Undangan: <strong>Bapak/Ibu ${namaTamu}</strong>`;
    document.getElementById('weddingDateText').textContent = new Date(tanggal).toLocaleDateString('id-ID', { year:'numeric', month:'long', day:'numeric' });

    const journeyData = [
      { year: 2017, event: 'Pacaran', desc: 'Berkenalan dan jatuh cinta.' },
      { year: 2019, event: 'Lamaran', desc: 'Momen melamar pasangan.' },
      { year: 2022, event: 'Menikah', desc: 'Hari bahagia pernikahan.' },
    ];
    journeyData.forEach(({year, event, desc}) => {
      const li = document.createElement('li');
      li.innerHTML = `<strong>${year} - ${event}</strong><br><small>${desc}</small>`;
      document.getElementById('journeyList').appendChild(li);
    });

    setTimeout(() => document.getElementById('audio').muted = false, 2000);

    const countDownDate = new Date(tanggal + 'T09:00:00').getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const distance = countDownDate - now;
      const cd = document.getElementById('countdown');
      if (distance > 0) {
        const d = Math.floor(distance / (1000 * 60 * 60 * 24));
        const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((distance % (1000 * 60)) / 1000);
        cd.textContent = `${d} hari ${h} jam ${m} menit ${s} detik`;
      } else {
        cd.textContent = 'Sudah menikah ‚ù§Ô∏è';
      }
    }, 1000);

    function generateWhatsAppLink() {
      const url = `${location.origin}${location.pathname}?namaTamu=${encodeURIComponent(namaTamu)}`;
      const pesan = `Halo, ini undangan pernikahan untuk Anda üôè‚ù§Ô∏è\n\n${url}`;
      window.open(`https://wa.me/?text=${encodeURIComponent(pesan)}`);
    }

    function submitRSVP(e) {
      e.preventDefault();
      const name = document.getElementById('rsvpName').value.trim();
      const status = document.getElementById('rsvpStatus').value;
      const msg = document.getElementById('rsvpMsg');
      if (name && status) {
        const daftar = JSON.parse(localStorage.getItem('rsvpList') || '[]');
        daftar.push({ name, status });
        localStorage.setItem('rsvpList', JSON.stringify(daftar));
        msg.textContent = 'Terima kasih atas konfirmasi Anda!';
        msg.style.color = 'green';
      } else {
        msg.textContent = 'Mohon isi semua data';
        msg.style.color = 'red';
      }
    }
  </script>
</body>
</html>
